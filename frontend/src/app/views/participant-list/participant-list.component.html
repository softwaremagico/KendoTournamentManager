<ng-container *transloco="let t">
  <div class="table-view">
    <biit-datatable #table id="tournaments-table"
                    [columns]="columns"
                    [data]="participants"
                    [pageSize]="pageSize"
                    [pageSizeList]="pageSizes"
                    [loading]="loading"
                    scrollbarH
                    selectable
    >
      <ng-template #actions>
        <button id="button-plus" biit-icon icon="plus" *ngIf="RbacActivity.CREATE_TOURNAMENT | hasPermission"
                [title]="t('tournamentAdd')"
                (click)="addElement()"
        ></button>
        <button id="button-minus" biit-icon icon="minus" class="warning"
                *ngIf="RbacActivity.DELETE_TOURNAMENT | hasPermission"
                [title]="t('delete')"
                (click)="confirm=true"
                [disabled]="!table.selectedRows.length"
        ></button>
        <button id="button-edit" biit-icon icon="edit" *ngIf="RbacActivity.READ_ONE_TOURNAMENT | hasPermission"
                [title]="t('tournamentEdit')"
                (click)="editElement(table.selectedRows[0])"
                [disabled]="!table.selectedRows || table.selectedRows.length != 1 || table.selectedRows[0].locked"
        ></button>
        <mat-divider [vertical]="true"></mat-divider>
        <button mat-button *ngIf="(RbacActivity.VIEW_PARTICIPANT_STATISTICS | hasPermission)"
                [title]="t('titleStatistics')"
                (click)="openStatistics(table.selectedRows[0])"
                [disabled]="!table.selectedRows ||  table.selectedRows.length != 1">
          <mat-icon class="kendo-icon" svgIcon="bar_chart"></mat-icon>
        </button>
        <mat-divider [vertical]="true"></mat-divider>
        <span class="extra-menu">
          <button mat-button *ngIf="(RbacActivity.READ_ALL_COMPETITORS_RANKINGS | hasPermission)"
                  [title]="t('competitorsRanking')"
                  (click)="showCompetitorsClassification(table.selectedRows[0])">
            <mat-icon class="kendo-icon" svgIcon="competitors-classification"></mat-icon>
          </button>
          <button mat-button *ngIf="(RbacActivity.SEE_QR_CODE | hasPermission)"
                  [title]="t('qrCodeHint')"
                  (click)="showQrCode(table.selectedRows[0])"
                  [disabled]="!table.selectedRows ||  table.selectedRows.length != 1">
          <mat-icon class="kendo-icon" svgIcon="qr_code"></mat-icon>
          </button>
        </span>
      </ng-template>
    </biit-datatable>
  </div>
</ng-container>
