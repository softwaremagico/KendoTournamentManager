<div class="password-container">
  <div class="screen">
    <div class="screen-content">
      <mat-card>
        <mat-card-content>
          <form class="login-form" [formGroup]="passwordForm" (ngSubmit)="changePassword()">
            <mat-form-field>
              <input class="password-input" formControlName="oldPassword" placeholder="{{'oldPassword' | translate}}"
                     [type]="'password'" matInput [(ngModel)]="oldPassword" required>
            </mat-form-field>
            <mat-form-field>
              <input class="password-input" formControlName="newPassword" placeholder="{{'newPassword' | translate}}"
                     [type]="hidePassword ? 'password' : 'text'"
                     matInput [(ngModel)]="newPassword" required>
              <mat-error>{{'invalidPasswordError' | translate}}</mat-error>
              <mat-icon matSuffix
                        (click)="hidePassword = !hidePassword">{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
            </mat-form-field>
            <mat-form-field *ngIf="hidePassword">
              <input class="password-input" formControlName="repeatPassword" name="repeatPassword"
                     placeholder="{{'repeatPassword' | translate}}" [type]="'password'"
                     matInput [(ngModel)]="repeatedPassword" [required]="hidePassword"
                     pattern="{{passwordForm.value.password}}" [errorStateMatcher]="matcher">
              <mat-error *ngIf="passwordForm.hasError('repeatPassword')">{{'passwordDoesNotMatch' | translate}}</mat-error>
            </mat-form-field>
            <div>
              <button mat-raised-button color="primary" type="submit" [disabled]="passwordForm.invalid && hidePassword">
                <mat-icon>keyboard_double_arrow_right</mat-icon>
                {{'update' | translate}}
              </button>
            </div>
          </form>
        </mat-card-content>
      </mat-card>
    </div>
  </div>
</div>
