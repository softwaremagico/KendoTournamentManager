<ng-container id="tournament-roles" *transloco="let t">
  <div class="canvas" slot="{{'empty' | transloco}}">
    <div cdkDropListGroup class="roles-container">
      <div (cdkDropListDropped)="removeRole($event)" [cdkDropListData]="userListData.filteredParticipants"
           cdkDropList
           class="users-container">
        <user-list [showAvatars]="showAvatars" [userListData]="userListData"></user-list>
      </div>
      <div class="right-panel">
        <app-fight-statistics-panel [teams]="false" [tournament]="tournament"></app-fight-statistics-panel>
        <div class="roles">
          <div *ngFor="let roleType of roleTypes" class="roles-location">
            <div class="role-header">
              <h2 class="role-text">{{ roleType.toLowerCase() | transloco }}</h2>
              <h2 *ngIf="countRole(roleType)" class="role-counter">(x{{ countRole(roleType) }})</h2>
            </div>
            <div (cdkDropListDropped)="dropParticipant($event, roleType)"
                 [cdkDropListData]="getParticipantsContainer(roleType)"
                 cdkDropList
                 class="role">
              <app-user-card *ngFor="let user of participants.get(roleType)" [activity]="RbacActivity.EDIT_ROLE"
                             [dragDisabled]="user.locked"
                             [showAvatar]="showAvatars" [user]="user"></app-user-card>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="buttons-row">
      <button biit-button id="roles-button-download" secondary
              (click)="downloadPDF()" *ngIf="(RbacActivity.READ_ALL_ROLES | hasPermission)">
        {{ t('download') }}
      </button>
      <button biit-button id="tournament-button-close"
              (click)="onClosed.emit()" primary>
        {{ t('close') }}
      </button>
    </div>
  </div>
</ng-container>
